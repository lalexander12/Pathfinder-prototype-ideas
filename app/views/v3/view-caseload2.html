{% extends "layout_moj.html" %}

{% block pageTitle %}
  Pathfinder
{% endblock %}



{% block beforeContent %}
<div class="govuk-breadcrumbs">
  <ol class="govuk-breadcrumbs__list">
    <li class="govuk-breadcrumbs__list-item">
      <a class="govuk-breadcrumbs__link" href="#">Digital Prison Services</a>
    </li>
    <li class="govuk-breadcrumbs__list-item">
        <a class="govuk-breadcrumbs__link" href="index">Pathfinder</a>
      </li>
  </ol>
</div>
{% endblock %}

{% block content %}
<div class="govuk-width-container">
    <div class="govuk-heading-l">View and manage caseload
        <a class="govuk-!-font-size-19 govuk-!-padding-left-3 govuk-!-font-weight-regular govuk-link--no-visited-state govuk-!-display-none-print hide-mobile" href="">Build caseload</a>
    </div>
    <div class="govuk-grid-row govuk-!-display-none-print govuk-!-margin-bottom-4">
        <div class="govuk-grid-column-two-thirds">
            <div class="govuk-warning-text thin-border-message govuk-!-padding-4">
                <form id="dismissForm" method="post" action="">
                    <input type="hidden" name="_csrf" value="bUc6mhtj-Hexq0KwDXRcj8kzm8l7xLCRbUvQ">
                    <div>
                            <!--<span class="govuk-warning-text__icon" aria-hidden="true">i</span>-->
                            <span class="govuk-warning-text__assistive govuk-!-margin-right-3">Information</span>
                            <span class="govuk-warning-text__text">You can <a href="" class="govuk-!-font-weight-regular govuk-link--no-visited-state">search and refer</a> an individual to Pathfinder
                                <button id="dismiss-referral" type="submit" class="button-as-link rightAlignedButton">Dismiss</button>
                            </span>
                    </div>
                </form>
            </div>
        </div>
        <div class="govuk-grid-column-full">
            <div class="govuk-!-padding-left-3 govuk-!-padding-right-3 filter-box-color">
                <form id="view-caseload-filters">
                    <div class="govuk-grid-row">
                        <div class="govuk-grid-column-one-third  govuk-!-padding-top-1">
                            <div class="govuk-form-group">
                                <label class="govuk-label" for="nameNomsIdCrn">
                                    Name, Prison Number or CRN
                                </label>
                                <input class="govuk-input govuk-!-padding-right-0" id="nameNomsIdCrn" name="nameNomsIdCrn" type="text" value="" maxlength="50" data-qa="name-or-id-filter">
                            </div>
                        </div>
                        <div class="govuk-grid-column-one-quarter">
                            <div class="govuk-!-padding-top-6 govuk-!-padding-left-0 govuk-!-margin-left-0">
                                <button data-prevent-double-click="true" class="govuk-button govuk-button--primary govuk-!-margin-top-1" data-module="govuk-button" data-qa="apply-button">
                                Apply
                                </button>
                            </div>
                        </div>
                    </div>

                    <details id="view-filters" class="govuk-details" data-module="govuk-details">
                        <summary class="govuk-details__summary">
                            <span class="govuk-details__summary-text" data-qa="view-filters-link">
                            View more filters
                            </span>
                        </summary>
                        <div class="govuk-grid-row">
                            <div class="govuk-grid-column-one-quarter govuk-!-padding-right-2">
                                <div class="govuk-form-group">
                                    <label class="govuk-label" for="prisons">Prison</label>
                                    <select class="govuk-select select-light-background govuk-!-width-full" id="prisons" name="prisons">

                                            <option value="">All in my caseload</option>

                                            <option value="HDI">Hatfield (HMP &amp; YOI)</option>

                                            <option value="HLI">Hull (HMP)</option>

                                            <option value="HMI">Humber (HMP)</option>

                                            <option value="LEI">Leeds (HMP)</option>

                                            <option value="LHI">Lindholme (HMP)</option>

                                            <option value="MDI">Moorland (HMP &amp; YOI)</option>

                                            <option value="WEI">Wealstun (HMP)</option>

                                        </select>
                                </div>

                            <div class="govuk-form-group">
                                <label class="govuk-label" for="probationAreas">Probation area</label>
                                <select class="govuk-select select-light-background govuk-!-width-full" id="probationAreas" name="probationAreas">

                                        <option value="ALL_PROBATION_AREAS" selected="">All in my caseload</option>

                                        <option value="CRS">Commissioned Rehab Services</option>

                                        <option value="C13">CPA BeNCH</option>

                                        <option value="C15">CPA Brist Gloucs Somerset Wilts</option>

                                        <option value="C07">CPA Cheshire and Gtr Manchester</option>

                                        <option value="C02">CPA Cumbria and Lancashire</option>

                                        <option value="C08">CPA Derby Leics Notts Rutland</option>

                                        <option value="C19">CPA Dorset Devon and Cornwall</option>

                                        <option value="C03">CPA Durham Tees Valley</option>

                                        <option value="C18">CPA Essex</option>

                                        <option value="C20">CPA Hampshire and Isle of Wight</option>

                                        <option value="C04">CPA Humber Lincs &amp; N Yorks</option>

                                        <option value="C21">CPA Kent Surrey and Sussex</option>

                                        <option value="C17">CPA London</option>

                                        <option value="C14">CPA Norfolk and Suffolk</option>

                                        <option value="C09">CPA South Yorkshire</option>

                                </select>
                                </div>
                                <a class="govuk-link--no-visited-state govuk-!-display-inline-block govuk-!-margin-top-2" href="view-caseload?reset=true">Default filters</a>
                            </div>
                                <div class="govuk-grid-column-two-thirds govuk-!-padding-0">
                                    <div class="govuk-grid-column-one-third">
                                    <span class="govuk-!-font-weight-bold">Location</span>
                                        <div class="govuk-form-group">
                                            <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                                <div class="govuk-checkboxes__item">
                                                <input class="govuk-checkboxes__input" id="location" name="location[]" type="checkbox" value="prison" checked="" data-qa="prison-check-box">
                                                <label class="govuk-label govuk-checkboxes__label" for="location">
                                                Inside prison
                                                </label>
                                                </div>
                                                <div class="govuk-checkboxes__item">
                                                    <input class="govuk-checkboxes__input" id="location-2" name="location[]" type="checkbox" value="community" data-qa="community-check-box">
                                                    <label class="govuk-label govuk-checkboxes__label" for="location-2">
                                                    Community
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div class="govuk-grid-column-one-third">
                                            <span class="govuk-!-font-weight-bold">Status</span>
                                                <div class="govuk-form-group">
                                                    <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                                                        <div class="govuk-checkboxes__item">
                                                            <input class="govuk-checkboxes__input" id="status" name="status[]" type="checkbox" value="REFERRED" checked="">
                                                            <label class="govuk-label govuk-checkboxes__label" for="status">
                                                            Referred
                                                            </label>
                                                        </div>
                                                        <div class="govuk-checkboxes__item">
                                                            <input class="govuk-checkboxes__input" id="status-2" name="status[]" type="checkbox" value="ACTIVE" checked="">
                                                            <label class="govuk-label govuk-checkboxes__label" for="status-2">
                                                            Active
                                                            </label>
                                                        </div>
                                                        <div class="govuk-checkboxes__item">
                                                            <input class="govuk-checkboxes__input" id="status-3" name="status[]" type="checkbox" value="REVIEW" checked="">
                                                            <label class="govuk-label govuk-checkboxes__label" for="status-3">
                                                            Dormant Review
                                                            </label>
                                                        </div>
                                                        <div class="govuk-checkboxes__item">
                                                            <input class="govuk-checkboxes__input" id="status-4" name="status[]" type="checkbox" value="DORMANT">
                                                            <label class="govuk-label govuk-checkboxes__label" for="status-4">
                                                            Dormant
                                                            </label>
                                                        </div>
                                                        <div class="govuk-checkboxes__item">
                                                            <input class="govuk-checkboxes__input" id="status-5" name="status[]" type="checkbox" value="NOT_ADOPTED">
                                                            <label class="govuk-label govuk-checkboxes__label" for="status-5">
                                                            Not adopted
                                                            </label>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                        </div>
                    </details>
                </form>
            </div>
            <div class="spread-items hide-mobile govuk-!-margin-bottom-3">
                <div>
                    <p class="govuk-!-margin-bottom-2">
                        <span class="govuk-!-font-weight-bold">67</span> cases
                    </p>
                    <div class="modal hide-mobile" id="modal-id">
                        <div class="modal-with-guidance" id="modal-content-id">
                            <p class="govuk-!-font-weight-bold">What is the release date?</p>
                            <p class="govuk-!-font-size-18">The release date is either:</p>
                            <ul>
                                <li><p class="govuk-!-font-size-18">the confirmed release date (if one has been entered)</p></li>
                                <li><p class="govuk-!-font-size-18">the approved parole date or the approved home detention curfew date (if either are present and a confirmed release date has not been entered)</p></li>
                                <li><p class="govuk-!-font-size-18">the later of a non-DTO release date or a mid-term release date (if either are present and a confirmed release date, parole date or home detention curfew date have not been entered)</p></li>
                            </ul>
                                <button class="govuk-button govuk-button--secondary govuk-!-margin-bottom-0" data-module="govuk-button" id="modal-close-button-id">
                                Close
                                </button>
                        </div>
                    </div>
                    <a href="javascript:void(0);" class="govuk-link--no-visited-state" id="modal-link-id">How is the release date worked out?</a>
                </div>
                <div class="spread-items">
                    <div class="govuk-!-margin-top-0">
                        <button id="caseload-link" class="csv-link">Download this table (CSV)</button>
                    </div>
                    <script>
                        const link = $("#caseload-link");
                        link.on("click", function(event) {
                            window.location = "/view-caseload/csv-download";
                        });
                    </script>
                    <a href="javascript:window.print()" class="govuk-link print-link govuk-!-display-none-print">Print</a>
                </div>
            </div>
        </div>
    </div>
    <div id="caseload-container">
      {% include "./includes/pf-cases-2.html" %}



    </div>
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full"></div>
    </div>
</div>

<nav class="moj-pagination" aria-label="Pagination navigation">
  <p class="govuk-visually-hidden" aria-labelledby="pagination-label">Pagination navigation</p>
  <ul class="moj-pagination__list">
    <li class="moj-pagination__item"><a class="moj-pagination__link" href="./view-caseload">1</a></li>
    <li class="moj-pagination__item moj-pagination__item--active">2</li>
    <li class="moj-pagination__item"><a class="moj-pagination__link" href="#">3</a></li>
    <li class="moj-pagination__item  moj-pagination__item--next">
    <a class="moj-pagination__link" href="#">Next<span class="govuk-visually-hidden"> set of pages</span></a>
    </li>
  </ul>
  <p class="moj-pagination__results">Showing <b>1</b> to <b>20</b> of <b>67</b> results</p>
  </nav>





{% endblock %}
